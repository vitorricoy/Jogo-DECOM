<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Jogo do Decom</title>
    <script src="js/phaser.js"></script>
    <script src="js/slick-ui.min.js"></script>
</head>
<body>

<div id="gameContainer"></div>

<script type="text/javascript">
    var game = new Phaser.Game(800, 600, Phaser.CANVAS, '', { preload: preload, create: create });
    var slickUI;
    function preload() {
        slickUI = game.plugins.add(Phaser.Plugin.SlickUI);
        game.load.image('backdrop', 'assets/backdrop.png');
        slickUI.load('assets/kenney/kenney.json');
        game.load.image('logo', 'assets/logo.png');
    }
    function create() {
        game.add.sprite(0,-125,'backdrop');
        var panel;
        slickUI.add(panel = new SlickUI.Element.Panel(8, 8, game.width - 16, game.height - 16));
        panel.add(new SlickUI.Element.Text(10,10, "Control the image's opacity by moving the slider")).centerHorizontally().text.alpha = 0.5;
        logo.width=200;
        logo.heigth=200;
        panel.add(new SlickUI.Element.DisplayObject((panel.width/2)-logo.width/2, 0, logo));

        var valueText = new SlickUI.Element.Text(0,panel.height - 40, '100%');
        var slider = new SlickUI.Element.Slider(16,100, game.width - 64);
        panel.add(slider);
        panel.add(valueText).centerHorizontally();
        slider.onDrag.add(function (value) {
            previewSprite.alpha = value;
            valueText.value = Math.round(value * 100) + '%';
            valueText.centerHorizontally();
        });
        slider.onDragStart.add(function (value) {
            console.log('Start dragging at ' + Math.round(value * 100) + '%');
        });
        slider.onDragStop.add(function (value) {
            console.log('Stop dragging at ' + Math.round(value * 100) + '%');
        });
    }
</script>

</body>
</html>
